<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>교수 관리 시스템</title>

    <!--

교수 관리 시스템 코드는 다음과 같은 기능을 수행합니다
        교수 추가: 사용자가 입력한 이름과 전공을 기반으로 새로운 교수 정보를 테이블에 추가합니다.
        교수 삭제: 체크된 교수 항목을 삭제합니다.
        교수 수정: 사용자가 선택한 교수 정보를 수정할 수 있게 해줍니다.
        교수 선택: 체크박스를 통해 선택된 교수 목록을 실시간으로 보여줍니다.

전반적 흐름
        - 사용자는 교수 정보를 입력하고 "추가" 버튼을 클릭하여 새 교수 정보를 테이블에 추가합니다.
        - 추가된 교수 정보 옆에는 "수정" 버튼이 있어, 사용자가 원하는 교수 정보를 수정할 수 있습니다.
        - 사용자는 여러 교수 항목을 체크한 후 "삭제" 버튼을 클릭하여 선택된 교수 정보를 한 번에 삭제할 수 있습니다.
        - 체크박스를 통해 선택된 교수의 이름이 화면에 표시되어, 사용자가 어떤 교수 정보를 선택했는지 쉽게 확인할 수 있습니다.

    


-->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
      table {
        width: 100%;
        border-collapse: collapse;
      }
      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <body>
    <h1>교수 관리 시스템</h1>

    <table id="professor-table">
      <thead>
        <tr>
          <th>선택</th>
          <th>이름</th>
          <th>전공</th>
          <th>수정</th>
        </tr>
      </thead>
      <tbody>
        <!-- 교수 목록이 여기에 추가됩니다. -->
      </tbody>
    </table>

    <h2>교수 추가/수정</h2>
    <label for="name">이름:</label>
    <input type="text" id="name" required />
    <label for="major">전공:</label>
    <input type="text" id="major" required />
    <button id="add-professor">추가</button>
    <button id="update-professor" style="display: none">수정</button>
    <button id="delete-professor">선택한 교수 삭제</button>

    <h2>교수 선택</h2>
    <label for="selected-professor">선택한 교수:</label>
    <div id="selected-professor"></div>

    <script>
      // 이 변수는 사용자가 수정중인 교수 정보를 포함한 행<tr>을 저장하는데 사용할 변수
      // 초깃값은 null로 설정되어 있어, 아직 어떤 행도 수졍되지 않았음을 의미한다.

      let currentRow = null; // 현재 수정 중인 행<tr>을 저장

      $(function () {
        // 교수 추가
        // <button id="add-professor">추가</button> 버튼을 선택해서 click() 메소드를 사용해
        // click하는 행동(이벤트)을 버튼에 등록!
        $('#add-professor').click(function () {
          // 1. 입력한 교수이름, 전공명 얻기
          const name = $('#name').val(); // 입력한 교수 이름 얻기
          const major = $('#major').val(); // 입력한 교수의 전공명 얻기

          // 2. 교수 이름과 전공명이 모두 입력되었는지 검사
          if (name && major) {
            // 모두 입력되었다면?
            // 새로운 행 tr을 생성하는데,
            // 행은 체크박스, 입력한 교수이름, 입력한 전공명, 수정 버튼으로 구성됨
            const newRow = `
                <tr>
                  <td><input type="checkbox" class="professor-checkbox" /></td>
                  <td>${name}</td>
                  <td>${major}</td>
                  <td>
                    <button>수정</button>
                  </td>
                </tr>
            `;

            // 3. 새로운 행 tr을 tbody에 append() 메소드를 사용해 추가
            $('#professor-table tbody').append(newRow);

            // 4. input[type="text"] 요소를 초기화
            $('#name').val('');
            $('#major').val('');
          } else {
            // 하나라도 입력되지 않았다면?
            // 경고 메세지 (알림창)를 띄워 사용자에게 입력을 요구
            alert('이름과 전공을 모두 입력하세요!');
          }
        });
      });
    </script>
  </body>
</html>
