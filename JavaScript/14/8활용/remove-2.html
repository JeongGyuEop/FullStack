<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>노드 삭제하기</title>
  </head>
  <body>
    <h1>웹 프로그래밍</h1>
    <ul id="items">
      <li>HTML</li>
      <li>CSS</li>
      <li>JavaScript</li>
    </ul>

    <script>
      // 주제: 부모노드 선택 후 자식 노드를 찾아서 삭제

      // parentNode 속성(프로퍼티)
      //   - 현재 노드의 부모노드에 접근해서 부모 노드의 요소노드를 반환
      //   - 기본문법
      //       현재노드선택.parentNode;

      // removeChild() 메소드
      //   - 선택한 부모노드의 자식노드르 삭제하는 메소드
      //   - 기본 문법
      //       부모노드선택.removeChild(삭제대상_자식노드);

      // 모든 li 항목을 선택해서 가져온다.
      const items = document.querySelectorAll('li');
      // [<li>HTML</li>,  <li>CSS</li>,  <li>JavaScript</li>]
      //       0               1                2             index

      // 이벤트 처리 함수를 function 익명 함수 형태로 만들어 사용 시
      // this는 이벤트가 발생한 <li> 요소를 선택해 올때 사용하는 예약어이다.

      for (let item of items) {
        item.addEventListener('click', function () {
          // this : 이벤트가 발생한 대상요소를 선택해오는 예약어
          // this.parentNode클릭한 <li>의 부모요소노드 <ul></ul>을 선택해서 가져온다.
          // this,parentNode.removeChild(this);  -> 부모요소 <ul> 사이에 작성된
          // 클릭이벤트가 발생한 자식<li> 삭제

          // 방법 1.
          this.parentNode.removeChild(this);

          //---------------------------------------------------------------------
          // 방법 2.(간결한 방법)
          // this -> 이벤트가 발생한 노드를 가리키는 예약어
          // this.remove(this);
        });
      }

      //----------------------------------------------------------------------------
      // for (let item of items) {
      //   item.addEventListener('click', () => {
      //     // 화살표 함수의 내부에 this예약어를 작성하면
      //     // this는 window 객체를 가리킨다.
      //     // window 객체는 DOM의 최상위 객체이므로
      //     // 클릭한 대상을 this라는 예약어로 사용하려면
      //     // 화살표 함수가 아닌 익명함수 function 형식으로 지정해야 한다.
      //     // 중요!!!
      //     // console.log(this);  // window {} 객체 형태가 출력 된다.
      //     this.parentNode.removeChild(this); // TypeError: Cannot read properties of undefined (reading 'removeChild')
      //   });
      // }
    </script>
  </body>
</html>
