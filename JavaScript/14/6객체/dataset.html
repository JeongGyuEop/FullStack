<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button data-cnt="10">가방 구매</button>
    <button data-cnt="0">신발 구매</button>

    <script>
      // querySelectorAll 메소드로 복수의 노드를 선택해서
      // button 요소노드 2개를 한꺼번에 NodeList 배열에 담아서 선택해 온다.
      const buttonEls = document.querySelectorAll('button');

      // [ <button data-cnt="10">가방 구매</button> ,  <button data-cnt="0">신발 구매</button>   ]
      //                      0                                           1                             index

      // forEach() 메소드는 배열에 저장된 요소의 갯수만큼 반복해서
      // function 함수를 호출하여 실행합니다.
      // 먼저 첫번째 반복할 때 function 호출되어 el 매개변수로
      // 위 0 index 위치에 저장된 <button data-cnt="10">가방 구매</button>가 전달된다.
      // 두 번째로 반복할 때 function 호출되어 el 매개변수로
      // 위 1 index 위치에 저장된 <button data-cnt="0">신발 구매</button>가 전달된다.
      buttonEls.forEach(function (el) {
        // dataset 속성을 호출하여 각 button 요소의 data-로 시작하는 속성의 값 가져옴
        // button 요소의 data-로 시작하는 속성에 대한 정보를 가져오는데 DOMStringMap 객체에 담아
        // DOMStringMap 객체 자체를 반환해서 가져옴
        console.log(el.dataset);
        // DOMStringMap {cnt: '10'}
        // DOMStringMap {cnt: '0'}

        // data-cnt 속성의 값만 가지고 오고 싶다면
        // 선택한 요소.dataset.cnt 속성을 호출하여 value 값만 가지고 올 수 있음.
        console.log(el.dataset.cnt);
        // 10
        // 0

        //data-cnt 속성에 대한 값 변경
        el.dataset.cnt = 50;
        console.log(el.dataset.cnt);
        // 50
        // 50
      });
    </script>
  </body>
</html>
